{"version":3,"file":"search/view.js","mappings":"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","sources":["webpack://adinfo-hero/./src/search/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\ndocument.addEventListener( 'DOMContentLoaded', function () {\n\tconst openBtn = document.getElementById( 'openSearchModal' );\n\tconst modal = document.getElementById( 'searchModal' );\n\tconst overlay = document.getElementById( 'searchOverlay' );\n\tconst clearBtn = document.getElementById( 'clearSearch' );\n\tconst closeBtn = document.getElementById( 'closeSearchModal' );\n\n\tconst searchInput = document.getElementById( 'searchInput' );\n\tconst searchBtn = document.getElementById( 'searchButton' );\n\tconst searchResults = document.getElementById( 'searchResults' );\n\tconst noResults = document.getElementById( 'noResults' );\n\tconst searchFilters = document.getElementById( 'searchFilters' );\n\tconst pagination = document.getElementById( 'pagination' );\n\n\tlet currentQuery = '';\n\tlet currentPage = 1;\n\n\tsearchInput.addEventListener( 'keydown', function ( event ) {\n\t\tif ( event.key === 'Enter' ) {\n\t\t\tevent.preventDefault();\n\t\t\tsearchBtn.click();\n\t\t}\n\t} );\n\n\tsearchBtn.addEventListener( 'click', function () {\n\t\tcurrentQuery = searchInput.value.trim();\n\t\tcurrentPage = 1;\n\t\tperformSearch( currentQuery, currentPage );\n\t} );\n\n\t// \t/wp-admin/admin-ajax.php → è il file di WordPress che riceve e gestisce le chiamate AJAX.\n\t// action=custom_news_search → dice a WordPress quale funzione eseguire. È una specie di \"nome comando\".\n\t// term=... → è il valore che inserisce l’utente nella barra di ricerca (quello che vuoi cercare nel CPT news).\n\n\tlet selectedPostType = 'news'; // Post type attualmente selezionato\n\n\tfunction performSearch( query, page ) {\n\t\tif ( ! query ) {\n\t\t\tsearchResults.innerHTML = '';\n\t\t\tsearchFilters.innerHTML = '';\n\t\t\tnoResults.classList.remove( 'd-none' );\n\t\t\tnoResults.innerHTML =\n\t\t\t\t'<p class=\"text-muted\">Inserisci un termine di ricerca.</p>';\n\t\t\tpagination.innerHTML = '';\n\t\t\treturn;\n\t\t} else {\n\t\t\tsearchFilters.innerHTML = '';\n\t\t\tsearchResults.innerHTML = '';\n\t\t\tnoResults.classList.remove( 'd-none' );\n\t\t\tnoResults.innerHTML = '<p class=\"text-muted\">Caricamento...</p>';\n\t\t}\n\n\t\t// Notare l'aggiunta di selectedPostType\n\t\tfetch(\n\t\t\t`/wp-admin/admin-ajax.php?action=custom_news_search&term=${ encodeURIComponent(\n\t\t\t\tquery\n\t\t\t) }&page=${ page }&post_type=${ selectedPostType }`\n\t\t)\n\t\t\t.then( ( response ) => response.json() )\n\t\t\t.then( ( data ) => {\n\t\t\t\tconsole.log( data );\n\t\t\t\tif ( data.posts.length > 0 ) {\n\t\t\t\t\tnoResults.innerHTML = '';\n\t\t\t\t\tnoResults.classList.add( 'd-none' );\n\n\t\t\t\t\tconst htmlResult = data.posts\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t( post ) => `\n\t\t\t\t\t\t<div class=\"border border-1 rounded-2 shadow-sm p-4 mb-3\">\n\t\t\t\t\t\t\t<div class=\"d-flex justify-content-between mb-2\">\n\t\t\t\t\t\t\t\t<h6 class=\"text-uppercase text-muted mb-2\">${ post.post_type.toUpperCase() }</h6>\n\t\t\t\t\t\t\t\t<p class=\"text-muted mb-2\">Data: 10/01/2025</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a href=\"${ post.link }\"><h4>${ post.title }</h4></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.join( '' );\n\n\t\t\t\t\tsearchResults.innerHTML = `<h5 class=\"mb-3\">${\n\t\t\t\t\t\tselectedPostType.charAt( 0 ).toUpperCase() +\n\t\t\t\t\t\tselectedPostType.slice( 1 ).toLowerCase()\n\t\t\t\t\t} </h5>${ htmlResult }`;\n\n\t\t\t\t\tconst filterHtml = data.filtri\n\t\t\t\t\t\t.map( ( filter ) => {\n\t\t\t\t\t\t\t// Controlla se il filtro è quello attivo\n\t\t\t\t\t\t\tconst isActive = filter.name == selectedPostType;\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\tselectedPostType,\n\t\t\t\t\t\t\t\tfilter.name,\n\t\t\t\t\t\t\t\tisActive\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tlet textColor = '';\n\n\t\t\t\t\t\t\tif ( isActive && filter.count > 0 ) {\n\t\t\t\t\t\t\t\ttextColor = 'text-primary clickable';\n\t\t\t\t\t\t\t} else if ( ! isActive && filter.count > 0 ) {\n\t\t\t\t\t\t\t\ttextColor = 'text-black clickable';\n\t\t\t\t\t\t\t} else if ( filter.count == 0 ) {\n\t\t\t\t\t\t\t\ttextColor = 'disabled';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn `\n\t\t\t\t\t\t\t<li class=\"list-group-item \">\n\t\t\t\t\t\t\t\t<p class=\"${ textColor } text-decoration-none fw-bold mb-0\" data-post-type=\"${\n\t\t\t\t\t\t\t\t\tfilter.name\n\t\t\t\t\t\t\t\t}\" data-count=\"${ filter.count }\">\n\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\tfilter.name.charAt( 0 ).toUpperCase() +\n\t\t\t\t\t\t\t\t\t\tfilter.name.slice( 1 ).toLowerCase()\n\t\t\t\t\t\t\t\t\t} (${ filter.count })\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t`;\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.join( '' );\n\n\t\t\t\t\tsearchFilters.innerHTML = `\n\t\t\t\t\t<h5 class=\"mb-3\">Filtri</h5>\n\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t\t<ul class=\"list-group list-group-flush\">\n\t\t\t\t\t\t\t\t\t${ filterHtml }\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`;\n\n\t\t\t\t\tupdatePagination( data.current_page, data.max_num_pages );\n\n\t\t\t\t\t//this.dataset è un oggetto automatico che JavaScript crea  esso contiene tutti gli attributi data- di un elemento HTML.\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.querySelectorAll( '#searchFilters p' )\n\t\t\t\t\t\t.forEach( ( p ) => {\n\t\t\t\t\t\t\tp.addEventListener( 'click', function ( e ) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tconst count = parseInt(\n\t\t\t\t\t\t\t\t\tthis.dataset.count,\n\t\t\t\t\t\t\t\t\t10\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif ( count === 0 ) {\n\t\t\t\t\t\t\t\t\t// Se il filtro ha 0 elementi, non fare nulla\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tselectedPostType = this.dataset.postType; // Cambio il post_type selezionato\n\t\t\t\t\t\t\t\tperformSearch( query, 1 ); // Rifai la ricerca da pagina 1\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tnoResults.classList.remove( 'd-none' );\n\t\t\t\t\tsearchResults.innerHTML = '';\n\t\t\t\t\tsearchFilters.innerHTML = '';\n\t\t\t\t\tnoResults.innerHTML =\n\t\t\t\t\t\t'<p class=\"text-muted\">Nessun risultato trovato.</p>';\n\t\t\t\t\tpagination.innerHTML = '';\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tsearchResults.innerHTML = '';\n\t\t\t\tsearchFilters.innerHTML = '';\n\t\t\t\tnoResults.innerHTML =\n\t\t\t\t\t'<p class=\"text-danger\">Errore nella ricerca.</p>';\n\t\t\t\tpagination.innerHTML = '';\n\t\t\t} );\n\t}\n\n\tfunction updatePagination( current, total ) {\n\t\tlet html = `\n\t\t<nav aria-label=\"Risultati ricerca\">\n\t\t\t<ul class=\"pagination justify-content-center\">\n\t\t\t\t<li class=\"page-item ${ current <= 1 ? 'disabled' : '' }\">\n\t\t\t\t\t<a class=\"page-link\" href=\"#\" data-page=\"${ current - 1 }\">&laquo;</a>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"page-item disabled\">\n\t\t\t\t\t<span class=\"page-link\">${ current } di ${ total }</span>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"page-item ${ current >= total ? 'disabled' : '' }\">\n\t\t\t\t\t<a class=\"page-link\" href=\"#\" data-page=\"${ current + 1 }\">&raquo;</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t`;\n\n\t\tpagination.innerHTML = html;\n\n\t\tdocument\n\t\t\t.querySelectorAll( '#pagination .page-link' )\n\t\t\t.forEach( ( el ) => {\n\t\t\t\tel.addEventListener( 'click', function ( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tconst page = parseInt( this.getAttribute( 'data-page' ) );\n\t\t\t\t\tif ( ! isNaN( page ) ) {\n\t\t\t\t\t\tcurrentPage = page;\n\t\t\t\t\t\tperformSearch( currentQuery, currentPage );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t}\n\n\t// Gestione chiusura svuotamenti input\n\t// e apertura del modal\n\tconst openModal = () => {\n\t\tmodal.classList.remove( 'd-none' );\n\t\toverlay.classList.remove( 'd-none' );\n\t\tsearchInput.focus();\n\t};\n\n\tconst closeModal = () => {\n\t\tmodal.classList.add( 'd-none' );\n\t\toverlay.classList.add( 'd-none' );\n\t\tsearchInput.value = '';\n\t\tclearBtn.classList.add( 'd-none' );\n\n\t\t// Resetta i risultati\n\t\tconst noResults = document.getElementById( 'noResults' );\n\t\tconst pagination = document.getElementById( 'pagination' );\n\t\tif ( noResults ) searchFilters.innerHTML = '';\n\t\tsearchResults.innerHTML = '';\n\t\tnoResults.innerHTML =\n\t\t\t'<p class=\"text-muted\">Inserisci un termine di ricerca.</p>';\n\t\tif ( pagination ) pagination.innerHTML = '';\n\t};\n\n\topenBtn.addEventListener( 'click', openModal );\n\toverlay.addEventListener( 'click', closeModal );\n\n\tsearchInput.addEventListener( 'input', function () {\n\t\tclearBtn.classList.toggle( 'd-none', ! this.value.length );\n\t} );\n\n\tclearBtn.addEventListener( 'click', function () {\n\t\tsearchInput.value = '';\n\t\tsearchInput.focus();\n\t\tclearBtn.classList.add( 'd-none' );\n\t} );\n\n\tcloseBtn.addEventListener( 'click', closeModal );\n} );\n"],"names":["document","addEventListener","openBtn","getElementById","modal","overlay","clearBtn","closeBtn","searchInput","searchBtn","searchResults","noResults","searchFilters","pagination","currentQuery","currentPage","event","key","preventDefault","click","value","trim","performSearch","selectedPostType","query","page","innerHTML","classList","remove","fetch","encodeURIComponent","then","response","json","data","console","log","posts","length","add","htmlResult","map","post","post_type","toUpperCase","link","title","join","charAt","slice","toLowerCase","filterHtml","filtri","filter","isActive","name","textColor","count","updatePagination","current_page","max_num_pages","querySelectorAll","forEach","p","e","parseInt","dataset","postType","catch","current","total","html","el","getAttribute","isNaN","openModal","focus","closeModal","toggle"],"sourceRoot":""}