{"version":3,"file":"search/view.js","mappings":"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","sources":["webpack://customhero/./src/search/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tconst openBtn = document.getElementById(\"openSearchModal\");\n\tconst modal = document.getElementById(\"searchModal\");\n\tconst overlay = document.getElementById(\"searchOverlay\");\n\tconst clearBtn = document.getElementById(\"clearSearch\");\n\tconst closeBtn = document.getElementById(\"closeSearchModal\");\n\n\tconst searchInput = document.getElementById(\"searchInput\");\n\tconst searchBtn = document.getElementById(\"searchButton\");\n\tconst searchResults = document.getElementById(\"searchResults\");\n\tconst noResults = document.getElementById(\"noResults\");\n\tconst searchFilters = document.getElementById(\"searchFilters\");\n\tconst pagination = document.getElementById(\"pagination\");\n\n\tlet currentQuery = \"\";\n\tlet currentPage = 1;\n\n\tsearchInput.addEventListener(\"keydown\", function (event) {\n\t\tif (event.key === \"Enter\") {\n\t\t\tevent.preventDefault();\n\t\t\tsearchBtn.click();\n\t\t}\n\t});\n\n\tsearchBtn.addEventListener(\"click\", function () {\n\t\tcurrentQuery = searchInput.value.trim();\n\t\tcurrentPage = 1;\n\t\tperformSearch(currentQuery, currentPage);\n\t});\n\n\t// \t/wp-admin/admin-ajax.php → è il file di WordPress che riceve e gestisce le chiamate AJAX.\n\t// action=custom_news_search → dice a WordPress quale funzione eseguire. È una specie di \"nome comando\".\n\t// term=... → è il valore che inserisce l’utente nella barra di ricerca (quello che vuoi cercare nel CPT news).\n\n\tlet selectedPostType = \"news\"; // Post type attualmente selezionato\n\n\tfunction performSearch(query, page) {\n\t\tif (!query) {\n\t\t\tsearchResults.innerHTML = \"\";\n\t\t\tsearchFilters.innerHTML = \"\";\n\t\t\tnoResults.classList.remove(\"d-none\");\n\t\t\tnoResults.innerHTML =\n\t\t\t\t'<p class=\"text-muted\">Inserisci un termine di ricerca.</p>';\n\t\t\tpagination.innerHTML = \"\";\n\t\t\treturn;\n\t\t} else {\n\t\t\tsearchFilters.innerHTML = \"\";\n\t\t\tsearchResults.innerHTML = \"\";\n\t\t\tnoResults.classList.remove(\"d-none\");\n\t\t\tnoResults.innerHTML = '<p class=\"text-muted\">Caricamento...</p>';\n\t\t}\n\n\t\t// Notare l'aggiunta di selectedPostType\n\t\tfetch(\n\t\t\t`/wp-admin/admin-ajax.php?action=custom_news_search&term=${encodeURIComponent(\n\t\t\t\tquery,\n\t\t\t)}&page=${page}&post_type=${selectedPostType}`,\n\t\t)\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.posts.length > 0) {\n\t\t\t\t\tnoResults.innerHTML = \"\";\n\t\t\t\t\tnoResults.classList.add(\"d-none\");\n\n\t\t\t\t\tconst htmlResult = data.posts\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t(post) => `\n\t\t\t\t\t\t<div class=\"border border-1 rounded-2 shadow-sm p-4 mb-3\">\n\t\t\t\t\t\t\t<div class=\"d-flex justify-content-between mb-2\">\n\t\t\t\t\t\t\t\t<h6 class=\"text-uppercase text-muted mb-2\">${post.post_type.toUpperCase()}</h6>\n\t\t\t\t\t\t\t\t<p class=\"text-muted mb-2\">Data: 10/01/2025</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a href=\"${post.link}\"><h4>${post.title}</h4></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`,\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.join(\"\");\n\n\t\t\t\t\tsearchResults.innerHTML = `<h5 class=\"mb-3\">${\n\t\t\t\t\t\tselectedPostType.charAt(0).toUpperCase() +\n\t\t\t\t\t\tselectedPostType.slice(1).toLowerCase()\n\t\t\t\t\t} </h5>${htmlResult}`;\n\n\t\t\t\t\tconst filterHtml = data.filtri\n\t\t\t\t\t\t.map((filter) => {\n\t\t\t\t\t\t\t// Controlla se il filtro è quello attivo\n\t\t\t\t\t\t\tconst isActive = filter.name == selectedPostType;\n\t\t\t\t\t\t\tconsole.log(selectedPostType, filter.name, isActive);\n\t\t\t\t\t\t\tlet textColor = \"\";\n\n\t\t\t\t\t\t\tif (isActive && filter.count > 0) {\n\t\t\t\t\t\t\t\ttextColor = \"text-primary clickable\";\n\t\t\t\t\t\t\t} else if (!isActive && filter.count > 0) {\n\t\t\t\t\t\t\t\ttextColor = \"text-black clickable\";\n\t\t\t\t\t\t\t} else if (filter.count == 0) {\n\t\t\t\t\t\t\t\ttextColor = \"disabled\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn `\n\t\t\t\t\t\t\t<li class=\"list-group-item \">\n\t\t\t\t\t\t\t\t<p class=\"${textColor} text-decoration-none fw-bold mb-0\" data-post-type=\"${\n\t\t\t\t\t\t\t\t\tfilter.name\n\t\t\t\t\t\t\t\t}\" data-count=\"${filter.count}\">\n\t\t\t\t\t\t\t\t\t${filter.name.charAt(0).toUpperCase() + filter.name.slice(1).toLowerCase()} (${\n\t\t\t\t\t\t\t\t\t\tfilter.count\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t`;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join(\"\");\n\n\t\t\t\t\tsearchFilters.innerHTML = `\n\t\t\t\t\t<h5 class=\"mb-3\">Filtri</h5>\n\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t\t<ul class=\"list-group list-group-flush\">\n\t\t\t\t\t\t\t\t\t${filterHtml}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`;\n\n\t\t\t\t\tupdatePagination(data.current_page, data.max_num_pages);\n\n\t\t\t\t\t//this.dataset è un oggetto automatico che JavaScript crea  esso contiene tutti gli attributi data- di un elemento HTML.\n\t\t\t\t\tdocument.querySelectorAll(\"#searchFilters p\").forEach((p) => {\n\t\t\t\t\t\tp.addEventListener(\"click\", function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tconst count = parseInt(this.dataset.count, 10);\n\t\t\t\t\t\t\tif (count === 0) {\n\t\t\t\t\t\t\t\t// Se il filtro ha 0 elementi, non fare nulla\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselectedPostType = this.dataset.postType; // Cambio il post_type selezionato\n\t\t\t\t\t\t\tperformSearch(query, 1); // Rifai la ricerca da pagina 1\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnoResults.classList.remove(\"d-none\");\n\t\t\t\t\tsearchResults.innerHTML = \"\";\n\t\t\t\t\tsearchFilters.innerHTML = \"\";\n\t\t\t\t\tnoResults.innerHTML =\n\t\t\t\t\t\t'<p class=\"text-muted\">Nessun risultato trovato.</p>';\n\t\t\t\t\tpagination.innerHTML = \"\";\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tsearchResults.innerHTML = \"\";\n\t\t\t\tsearchFilters.innerHTML = \"\";\n\t\t\t\tnoResults.innerHTML =\n\t\t\t\t\t'<p class=\"text-danger\">Errore nella ricerca.</p>';\n\t\t\t\tpagination.innerHTML = \"\";\n\t\t\t});\n\t}\n\n\tfunction updatePagination(current, total) {\n\t\tlet html = `\n\t\t<nav aria-label=\"Risultati ricerca\">\n\t\t\t<ul class=\"pagination justify-content-center\">\n\t\t\t\t<li class=\"page-item ${current <= 1 ? \"disabled\" : \"\"}\">\n\t\t\t\t\t<a class=\"page-link\" href=\"#\" data-page=\"${current - 1}\">&laquo;</a>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"page-item disabled\">\n\t\t\t\t\t<span class=\"page-link\">${current} di ${total}</span>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"page-item ${current >= total ? \"disabled\" : \"\"}\">\n\t\t\t\t\t<a class=\"page-link\" href=\"#\" data-page=\"${current + 1}\">&raquo;</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t`;\n\n\t\tpagination.innerHTML = html;\n\n\t\tdocument.querySelectorAll(\"#pagination .page-link\").forEach((el) => {\n\t\t\tel.addEventListener(\"click\", function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst page = parseInt(this.getAttribute(\"data-page\"));\n\t\t\t\tif (!isNaN(page)) {\n\t\t\t\t\tcurrentPage = page;\n\t\t\t\t\tperformSearch(currentQuery, currentPage);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// Gestione chiusura svuotamenti input\n\t// e apertura del modal\n\tconst openModal = () => {\n\t\tmodal.classList.remove(\"d-none\");\n\t\toverlay.classList.remove(\"d-none\");\n\t\tsearchInput.focus();\n\t};\n\n\tconst closeModal = () => {\n\t\tmodal.classList.add(\"d-none\");\n\t\toverlay.classList.add(\"d-none\");\n\t\tsearchInput.value = \"\";\n\t\tclearBtn.classList.add(\"d-none\");\n\n\t\t// Resetta i risultati\n\t\tconst noResults = document.getElementById(\"noResults\");\n\t\tconst pagination = document.getElementById(\"pagination\");\n\t\tif (noResults) searchFilters.innerHTML = \"\";\n\t\tsearchResults.innerHTML = \"\";\n\t\tnoResults.innerHTML =\n\t\t\t'<p class=\"text-muted\">Inserisci un termine di ricerca.</p>';\n\t\tif (pagination) pagination.innerHTML = \"\";\n\t};\n\n\topenBtn.addEventListener(\"click\", openModal);\n\toverlay.addEventListener(\"click\", closeModal);\n\n\tsearchInput.addEventListener(\"input\", function () {\n\t\tclearBtn.classList.toggle(\"d-none\", !this.value.length);\n\t});\n\n\tclearBtn.addEventListener(\"click\", function () {\n\t\tsearchInput.value = \"\";\n\t\tsearchInput.focus();\n\t\tclearBtn.classList.add(\"d-none\");\n\t});\n\n\tcloseBtn.addEventListener(\"click\", closeModal);\n});\n"],"names":["document","addEventListener","openBtn","getElementById","modal","overlay","clearBtn","closeBtn","searchInput","searchBtn","searchResults","noResults","searchFilters","pagination","currentQuery","currentPage","event","key","preventDefault","click","value","trim","performSearch","selectedPostType","query","page","innerHTML","classList","remove","fetch","encodeURIComponent","then","response","json","data","console","log","posts","length","add","htmlResult","map","post","post_type","toUpperCase","link","title","join","charAt","slice","toLowerCase","filterHtml","filtri","filter","isActive","name","textColor","count","updatePagination","current_page","max_num_pages","querySelectorAll","forEach","p","e","parseInt","dataset","postType","catch","current","total","html","el","getAttribute","isNaN","openModal","focus","closeModal","toggle"],"sourceRoot":""}